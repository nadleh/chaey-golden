<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>NetApp ìŠ¤í† ë¦¬ì§€ ë””ìŠ¤í¬ ì‚¬ì´ì§• ê³„ì‚°ê¸°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overscroll-behavior: none;
        }
        
        /* iOS Safari ì£¼ì†Œì°½ ëŒ€ì‘ */
        .min-h-screen {
            min-height: 100vh;
            min-height: -webkit-fill-available;
        }
        
        /* í„°ì¹˜ ìµœì í™” */
        input, select, button {
            -webkit-appearance: none;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }
        
        /* iOS ì…ë ¥ í•„ë“œ ìŠ¤íƒ€ì¼ */
        input[type="number"],
        select {
            font-size: 16px !important; /* iOS ìë™ ì¤Œ ë°©ì§€ */
            min-height: 44px; /* Apple HIG ê¶Œì¥ ìµœì†Œ í„°ì¹˜ ì˜ì—­ */
        }
        
        /* ë²„íŠ¼ í„°ì¹˜ ì˜ì—­ í™•ëŒ€ */
        button {
            min-height: 48px;
            font-size: 16px !important;
        }
        
        /* ìŠ¤í¬ë¡¤ ê°œì„  */
        * {
            -webkit-overflow-scrolling: touch;
        }
        
        /* í¬ì»¤ìŠ¤ ì‹œ í™•ëŒ€ ë°©ì§€ */
        input:focus,
        select:focus {
            font-size: 16px !important;
        }
        
        /* Safe Area ëŒ€ì‘ (ë…¸ì¹˜ ë“±) */
        .safe-area-padding {
            padding-left: env(safe-area-inset-left);
            padding-right: env(safe-area-inset-right);
        }
        
        /* ì¹´ë“œ ê·¸ë¦¬ë“œ ëª¨ë°”ì¼ ìµœì í™” */
        @media (max-width: 640px) {
            .result-card {
                padding: 1rem;
            }
            .result-card-value {
                font-size: 1.5rem;
            }
        }
        
        /* ìŠ¤í¬ë¡¤ ìŠ¤ëƒ… */
        .scroll-snap {
            scroll-behavior: smooth;
        }
        
        /* ì…ë ¥ í•„ë“œ í¬ì»¤ìŠ¤ ìŠ¤íƒ€ì¼ */
        .input-focus:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen scroll-snap">
    <div class="max-w-6xl mx-auto px-4 py-4 sm:px-6 sm:py-6 safe-area-padding">
        <!-- ë©”ì¸ ì…ë ¥ í¼ -->
        <div class="bg-white rounded-2xl shadow-lg p-4 sm:p-8 mb-4 sm:mb-6">
            <div class="flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6">
                <svg class="w-6 h-6 sm:w-8 sm:h-8 text-blue-600 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"/>
                </svg>
                <h1 class="text-xl sm:text-3xl font-bold text-gray-800">NetApp ë””ìŠ¤í¬ ì‚¬ì´ì§• ê³„ì‚°ê¸°</h1>
            </div>

            <div class="grid grid-cols-1 gap-4 sm:gap-6 mb-4 sm:mb-6">
                <!-- ëª©í‘œ Raw ìš©ëŸ‰ -->
                <div>
                    <label class="block text-sm sm:text-base font-medium text-gray-700 mb-2">ëª©í‘œ Raw ìš©ëŸ‰ (TB)</label>
                    <input type="number" id="rawCapacity" value="10" 
                           class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl input-focus transition-all">
                </div>

                <!-- RAID íƒ€ì… -->
                <div>
                    <label class="block text-sm sm:text-base font-medium text-gray-700 mb-2">RAID íƒ€ì…</label>
                    <select id="raidType" 
                            class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl input-focus transition-all bg-white">
                        <option value="RAID-DP">RAID-DP (2-íŒ¨ë¦¬í‹°)</option>
                        <option value="RAID-TEC">RAID-TEC (3-íŒ¨ë¦¬í‹°)</option>
                        <option value="RAID4">RAID4 (1-íŒ¨ë¦¬í‹°)</option>
                    </select>
                </div>

                <!-- ë””ìŠ¤í¬ íƒ€ì… -->
                <div>
                    <label class="block text-sm sm:text-base font-medium text-gray-700 mb-2">ë””ìŠ¤í¬ íƒ€ì…</label>
                    <select id="diskType" 
                            class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl input-focus transition-all bg-white">
                        <option value="SAS">SAS</option>
                        <option value="NL-SAS">NL-SAS (Near-Line SAS)</option>
                        <option value="SSD">SSD</option>
                    </select>
                </div>

                <!-- ë””ìŠ¤í¬ í¬ê¸° -->
                <div>
                    <label class="block text-sm sm:text-base font-medium text-gray-700 mb-2">ë””ìŠ¤í¬ í¬ê¸° (TB)</label>
                    <select id="diskSize" 
                            class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl input-focus transition-all bg-white">
                        <option value="1.8">1.8 TB</option>
                    </select>
                </div>

                <!-- Aggregate ìˆ˜ -->
                <div>
                    <label class="block text-sm sm:text-base font-medium text-gray-700 mb-2">Aggregate ìˆ˜</label>
                    <input type="number" id="aggregateCount" value="1" min="1" 
                           class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl input-focus transition-all">
                </div>

                <!-- ìŠ¤í˜ì–´ ë””ìŠ¤í¬ ë¹„ìœ¨ -->
                <div>
                    <label class="block text-sm sm:text-base font-medium text-gray-700 mb-2">ìŠ¤í˜ì–´ ë””ìŠ¤í¬ ë¹„ìœ¨ (%)</label>
                    <input type="number" id="spareRatio" value="10" min="0" max="30" 
                           class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl input-focus transition-all">
                </div>

                <!-- ìŠ¤ëƒ…ìƒ· ì˜ˆì•½ ê³µê°„ -->
                <div>
                    <label class="block text-sm sm:text-base font-medium text-gray-700 mb-2">ìŠ¤ëƒ…ìƒ· ì˜ˆì•½ ê³µê°„ (%)</label>
                    <input type="number" id="snapshotReserve" value="20" min="0" max="50" 
                           class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl input-focus transition-all">
                </div>

                <!-- ì¤‘ë³µì œê±° ë¹„ìœ¨ -->
                <div>
                    <label class="block text-sm sm:text-base font-medium text-gray-700 mb-2">ì¤‘ë³µì œê±° ë¹„ìœ¨ (ë°°ìˆ˜)</label>
                    <input type="number" id="dedupeRatio" value="1.5" min="1" max="10" step="0.1" 
                           class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl input-focus transition-all">
                </div>

                <!-- ì••ì¶• ë¹„ìœ¨ -->
                <div>
                    <label class="block text-sm sm:text-base font-medium text-gray-700 mb-2">ì••ì¶• ë¹„ìœ¨ (ë°°ìˆ˜)</label>
                    <input type="number" id="compressionRatio" value="1.3" min="1" max="10" step="0.1" 
                           class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl input-focus transition-all">
                </div>

                <!-- ì‹œìŠ¤í…œ ì˜¤ë²„í—¤ë“œ -->
                <div>
                    <label class="block text-sm sm:text-base font-medium text-gray-700 mb-2">ì‹œìŠ¤í…œ ì˜¤ë²„í—¤ë“œ (%)</label>
                    <input type="number" id="overheadPercent" value="10" min="0" max="20" 
                           class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl input-focus transition-all">
                </div>
            </div>

            <button onclick="calculateSizing()" 
                    class="w-full bg-blue-600 text-white py-4 rounded-xl font-semibold hover:bg-blue-700 active:bg-blue-800 transition-colors shadow-lg">
                ì‚¬ì´ì§• ê³„ì‚°í•˜ê¸°
            </button>
        </div>

        <!-- ê²°ê³¼ í‘œì‹œ ì˜ì—­ -->
        <div id="results" class="hidden bg-white rounded-2xl shadow-lg p-4 sm:p-8">
            <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-0 mb-4 sm:mb-6">
                <h2 class="text-xl sm:text-2xl font-bold text-gray-800">ê³„ì‚° ê²°ê³¼</h2>
                <div class="flex gap-2 w-full sm:w-auto">
                    <button onclick="saveConfig()" 
                            class="flex-1 sm:flex-none flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 active:bg-green-800 transition-colors shadow">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"/>
                        </svg>
                        <span class="text-sm sm:text-base">ì €ì¥</span>
                    </button>
                    <button onclick="exportResults()" 
                            class="flex-1 sm:flex-none flex items-center justify-center gap-2 px-4 py-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 active:bg-indigo-800 transition-colors shadow">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/>
                        </svg>
                        <span class="text-sm sm:text-base">ë‚´ë³´ë‚´ê¸°</span>
                    </button>
                </div>
            </div>

            <div id="resultCards" class="grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 mb-4 sm:mb-6"></div>

            <div class="border-t pt-4 sm:pt-6">
                <h3 class="text-lg sm:text-xl font-bold text-gray-800 mb-3 sm:mb-4">ìƒì„¸ êµ¬ì„±</h3>
                <div id="detailResults" class="space-y-2 sm:space-y-3"></div>
            </div>

            <div class="mt-4 sm:mt-6 bg-blue-50 border-l-4 border-blue-500 p-3 sm:p-4 rounded-lg">
                <div class="flex items-start gap-2">
                    <svg class="w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    <div class="text-xs sm:text-sm text-blue-800">
                        <p class="font-semibold mb-1">ì°¸ê³ ì‚¬í•­</p>
                        <ul class="list-disc list-inside space-y-1">
                            <li>ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ë””ìŠ¤í¬ ìœ í˜•, ì»¨íŠ¸ë¡¤ëŸ¬ ìˆ˜ ë“± ì¶”ê°€ ìš”ì†Œë¥¼ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.</li>
                            <li>ì¤‘ë³µì œê±° ë° ì••ì¶• ë¹„ìœ¨ì€ ë°ì´í„° ìœ í˜•ì— ë”°ë¼ í¬ê²Œ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                            <li>ìŠ¤í˜ì–´ ë””ìŠ¤í¬ëŠ” ë””ìŠ¤í¬ ì¥ì•  ì‹œ ìë™ ë¦¬ë¹Œë“œë¥¼ ìœ„í•´ í•„ìˆ˜ì…ë‹ˆë‹¤.</li>
                            <li>RAID ê·¸ë£¹ ìµœëŒ€ í¬ê¸°: SSD(26), SAS(18), NL-SAS(DP:16, TEC:28)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- ì €ì¥ëœ êµ¬ì„± -->
        <div id="savedConfigsSection" class="hidden bg-white rounded-2xl shadow-lg p-4 sm:p-8 mt-4 sm:mt-6">
            <h2 class="text-xl sm:text-2xl font-bold text-gray-800 mb-3 sm:mb-4">ì €ì¥ëœ êµ¬ì„±</h2>
            <div id="savedConfigsList" class="space-y-2"></div>
        </div>
    </div>

    <script>
        const diskOptions = {
            'SAS': [1.8],
            'NL-SAS': [4, 10, 22, 24],
            'SSD': [1.92, 3.84, 7.6, 15.3, 30.7, 61.4]
        };

        const raidConfigs = {
            'RAID-DP': { minDisks: 5, parity: 2 },
            'RAID-TEC': { minDisks: 7, parity: 3 },
            'RAID4': { minDisks: 3, parity: 1 }
        };

        let savedConfigs = [];
        let currentResults = null;

        function getRaidMaxDisks(raidType, diskType) {
            if (diskType === 'SSD') return 26;
            if (diskType === 'SAS') return 18;
            if (diskType === 'NL-SAS') {
                return raidType === 'RAID-TEC' ? 28 : 16;
            }
            return 28;
        }

        function updateDiskSizes() {
            const diskType = document.getElementById('diskType').value;
            const diskSizeSelect = document.getElementById('diskSize');
            diskSizeSelect.innerHTML = '';
            
            diskOptions[diskType].forEach(size => {
                const option = document.createElement('option');
                option.value = size;
                option.textContent = `${size} TB`;
                diskSizeSelect.appendChild(option);
            });
        }

        document.getElementById('diskType').addEventListener('change', updateDiskSizes);

        function calculateSizing() {
            const inputs = {
                rawCapacity: parseFloat(document.getElementById('rawCapacity').value),
                raidType: document.getElementById('raidType').value,
                diskType: document.getElementById('diskType').value,
                diskSize: parseFloat(document.getElementById('diskSize').value),
                aggregateCount: parseInt(document.getElementById('aggregateCount').value),
                spareRatio: parseFloat(document.getElementById('spareRatio').value) / 100,
                snapshotReserve: parseFloat(document.getElementById('snapshotReserve').value) / 100,
                dedupeRatio: parseFloat(document.getElementById('dedupeRatio').value),
                compressionRatio: parseFloat(document.getElementById('compressionRatio').value),
                overheadPercent: parseFloat(document.getElementById('overheadPercent').value) / 100
            };

            const config = raidConfigs[inputs.raidType];
            const maxDisks = getRaidMaxDisks(inputs.raidType, inputs.diskType);

            const totalDisksNeeded = Math.ceil(inputs.rawCapacity / inputs.diskSize);
            const spareDisks = Math.ceil(totalDisksNeeded * inputs.spareRatio);
            const disksPerAggregate = Math.ceil(totalDisksNeeded / inputs.aggregateCount);
            
            const optimalRaidGroupSize = Math.min(
                Math.max(config.minDisks, Math.ceil(disksPerAggregate / 2)),
                maxDisks
            );
            
            const raidGroupsPerAggregate = Math.ceil(disksPerAggregate / optimalRaidGroupSize);
            const adjustedDisksPerAggregate = raidGroupsPerAggregate * optimalRaidGroupSize;
            const totalDisks = (adjustedDisksPerAggregate * inputs.aggregateCount) + spareDisks;
            const actualRawCapacity = totalDisks * inputs.diskSize;
            
            const dataDisksPerRaidGroup = optimalRaidGroupSize - config.parity;
            const raidEfficiency = dataDisksPerRaidGroup / optimalRaidGroupSize;
            
            const usableCapacityBeforeOverhead = actualRawCapacity * raidEfficiency * (1 - inputs.spareRatio);
            const usableCapacityAfterOverhead = usableCapacityBeforeOverhead * (1 - inputs.overheadPercent);
            const availableCapacity = usableCapacityAfterOverhead * (1 - inputs.snapshotReserve);
            const logicalCapacity = availableCapacity * inputs.dedupeRatio * inputs.compressionRatio;
            
            currentResults = {
                inputs: inputs,
                totalDisks: totalDisks,
                spareDisks: spareDisks,
                dataDisks: totalDisks - spareDisks,
                aggregates: inputs.aggregateCount,
                disksPerAggregate: adjustedDisksPerAggregate,
                raidGroupsPerAggregate: raidGroupsPerAggregate,
                disksPerRaidGroup: optimalRaidGroupSize,
                maxRaidGroupSize: maxDisks,
                actualRawCapacity: actualRawCapacity.toFixed(2),
                usableCapacity: usableCapacityAfterOverhead.toFixed(2),
                availableCapacity: availableCapacity.toFixed(2),
                logicalCapacity: logicalCapacity.toFixed(2),
                raidEfficiency: (raidEfficiency * 100).toFixed(1),
                overallEfficiency: ((logicalCapacity / actualRawCapacity) * 100).toFixed(1)
            };

            displayResults(currentResults);
        }

        function displayResults(results) {
            const resultsElement = document.getElementById('results');
            resultsElement.classList.remove('hidden');
            
            const cards = [
                { label: 'ì´ ë””ìŠ¤í¬ ìˆ˜', value: `${results.totalDisks}ê°œ`, color: 'blue' },
                { label: 'ë°ì´í„° ë””ìŠ¤í¬', value: `${results.dataDisks}ê°œ`, color: 'green' },
                { label: 'ìŠ¤í˜ì–´ ë””ìŠ¤í¬', value: `${results.spareDisks}ê°œ`, color: 'yellow' },
                { label: 'ì‹¤ì œ Raw ìš©ëŸ‰', value: `${results.actualRawCapacity} TB`, color: 'purple' },
                { label: 'ì‚¬ìš© ê°€ëŠ¥ ìš©ëŸ‰', value: `${results.availableCapacity} TB`, color: 'indigo' },
                { label: 'ë…¼ë¦¬ì  ìš©ëŸ‰', value: `${results.logicalCapacity} TB`, color: 'pink' }
            ];

            document.getElementById('resultCards').innerHTML = cards.map(card => `
                <div class="bg-${card.color}-50 p-3 sm:p-4 rounded-xl result-card">
                    <div class="text-xs sm:text-sm text-gray-600 mb-1">${card.label}</div>
                    <div class="text-xl sm:text-3xl font-bold text-${card.color}-600 result-card-value">${card.value}</div>
                </div>
            `).join('');

            const details = [
                { label: 'Aggregate ìˆ˜', value: `${results.aggregates}ê°œ` },
                { label: 'Aggregateë‹¹ ë””ìŠ¤í¬', value: `${results.disksPerAggregate}ê°œ` },
                { label: 'Aggregateë‹¹ RAID ê·¸ë£¹', value: `${results.raidGroupsPerAggregate}ê°œ` },
                { label: 'RAID ê·¸ë£¹ë‹¹ ë””ìŠ¤í¬', value: `${results.disksPerRaidGroup}ê°œ (ìµœëŒ€: ${results.maxRaidGroupSize}ê°œ)` },
                { label: 'RAID íš¨ìœ¨ì„±', value: `${results.raidEfficiency}%` },
                { label: 'ì „ì²´ íš¨ìœ¨ì„±', value: `${results.overallEfficiency}%` }
            ];

            document.getElementById('detailResults').innerHTML = details.map((detail, idx) => `
                <div class="flex justify-between py-2 text-sm sm:text-base ${idx < details.length - 1 ? 'border-b' : ''}">
                    <span class="text-gray-600">${detail.label}</span>
                    <span class="font-semibold ${detail.label === 'ì „ì²´ íš¨ìœ¨ì„±' ? 'text-green-600' : ''}">${detail.value}</span>
                </div>
            `).join('');

            // ë¶€ë“œëŸ¬ìš´ ìŠ¤í¬ë¡¤
            setTimeout(() => {
                resultsElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);
        }

        function saveConfig() {
            if (!currentResults) return;
            
            const config = {
                name: `Config ${new Date().toLocaleString('ko-KR')}`,
                data: currentResults
            };
            
            savedConfigs.push(config);
            updateSavedConfigs();
            
            // iOS ì¹œí™”ì  ì•Œë¦¼
            showNotification('êµ¬ì„±ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤! âœ“');
        }

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'fixed top-4 left-1/2 transform -translate-x-1/2 bg-green-600 text-white px-6 py-3 rounded-xl shadow-lg z-50 transition-all';
            notification.style.transition = 'opacity 0.3s ease-in-out';
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => notification.remove(), 300);
            }, 2000);
        }

        function updateSavedConfigs() {
            if (savedConfigs.length === 0) {
                document.getElementById('savedConfigsSection').classList.add('hidden');
                return;
            }

            document.getElementById('savedConfigsSection').classList.remove('hidden');
            document.getElementById('savedConfigsList').innerHTML = savedConfigs.map((config, idx) => `
                <div class="p-3 sm:p-4 bg-gray-50 rounded-xl hover:bg-gray-100 active:bg-gray-200 transition-colors cursor-pointer" onclick="loadSavedConfig(${idx})">
                    <div class="font-semibold text-gray-800 text-sm sm:text-base">${config.name}</div>
                    <div class="text-xs sm:text-sm text-gray-600 mt-1 break-words">
                        ${config.data.inputs.rawCapacity}TB / ${config.data.inputs.diskType} ${config.data.inputs.diskSize}TB / ${config.data.inputs.raidType} / 
                        ë””ìŠ¤í¬ ${config.data.totalDisks}ê°œ / ë…¼ë¦¬ì  ìš©ëŸ‰ ${config.data.logicalCapacity}TB
                    </div>
                </div>
            `).join('');
        }

        function loadSavedConfig(index) {
            const config = savedConfigs[index];
            currentResults = config.data;
            displayResults(currentResults);
        }

        function exportResults() {
            if (!currentResults) return;

            const report = `NetApp ìŠ¤í† ë¦¬ì§€ ë””ìŠ¤í¬ ì‚¬ì´ì§• ë¦¬í¬íŠ¸
ìƒì„±ì¼ì‹œ: ${new Date().toLocaleString('ko-KR')}

=== ì…ë ¥ íŒŒë¼ë¯¸í„° ===
ëª©í‘œ Raw ìš©ëŸ‰: ${currentResults.inputs.rawCapacity} TB
RAID íƒ€ì…: ${currentResults.inputs.raidType}
ë””ìŠ¤í¬ íƒ€ì…: ${currentResults.inputs.diskType}
ë””ìŠ¤í¬ í¬ê¸°: ${currentResults.inputs.diskSize} TB
Aggregate ìˆ˜: ${currentResults.inputs.aggregateCount}
ìŠ¤í˜ì–´ ë¹„ìœ¨: ${(currentResults.inputs.spareRatio * 100).toFixed(0)}%
ìŠ¤ëƒ…ìƒ· ì˜ˆì•½: ${(currentResults.inputs.snapshotReserve * 100).toFixed(0)}%
ì¤‘ë³µì œê±° ë¹„ìœ¨: ${currentResults.inputs.dedupeRatio}x
ì••ì¶• ë¹„ìœ¨: ${currentResults.inputs.compressionRatio}x
ì‹œìŠ¤í…œ ì˜¤ë²„í—¤ë“œ: ${(currentResults.inputs.overheadPercent * 100).toFixed(0)}%

=== ê³„ì‚° ê²°ê³¼ ===
ì´ ë””ìŠ¤í¬ ìˆ˜: ${currentResults.totalDisks}ê°œ
- ë°ì´í„° ë””ìŠ¤í¬: ${currentResults.dataDisks}ê°œ
- ìŠ¤í˜ì–´ ë””ìŠ¤í¬: ${currentResults.spareDisks}ê°œ

Aggregate êµ¬ì„±:
- Aggregate ìˆ˜: ${currentResults.aggregates}ê°œ
- Aggregateë‹¹ ë””ìŠ¤í¬: ${currentResults.disksPerAggregate}ê°œ
- Aggregateë‹¹ RAID ê·¸ë£¹: ${currentResults.raidGroupsPerAggregate}ê°œ
- RAID ê·¸ë£¹ë‹¹ ë””ìŠ¤í¬: ${currentResults.disksPerRaidGroup}ê°œ (ìµœëŒ€: ${currentResults.maxRaidGroupSize}ê°œ)

ìš©ëŸ‰ ë¶„ì„:
- ì‹¤ì œ Raw ìš©ëŸ‰: ${currentResults.actualRawCapacity} TB
- ì‚¬ìš© ê°€ëŠ¥ ìš©ëŸ‰ (RAID í›„): ${currentResults.usableCapacity} TB
- ì‹¤ì œ ì‚¬ìš© ê°€ëŠ¥ ìš©ëŸ‰ (ìŠ¤ëƒ…ìƒ· ì˜ˆì•½ í›„): ${currentResults.availableCapacity} TB
- ë…¼ë¦¬ì  ìš©ëŸ‰ (íš¨ìœ¨ì„± ê¸°ìˆ  ì ìš©): ${currentResults.logicalCapacity} TB

íš¨ìœ¨ì„±:
- RAID íš¨ìœ¨ì„±: ${currentResults.raidEfficiency}%
- ì „ì²´ íš¨ìœ¨ì„±: ${currentResults.overallEfficiency}%`;

            const blob = new Blob([report], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `netapp_sizing_${Date.now()}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showNotification('íŒŒì¼ì´ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ“¥');
        }

        // ì´ˆê¸°í™”
        updateDiskSizes();
        
        // iOSì—ì„œ ì…ë ¥ í•„ë“œ í¬ì»¤ìŠ¤ ì‹œ í™”ë©´ ì¡°ì •
        const inputs = document.querySelectorAll('input, select');
        inputs.forEach(input => {
            input.addEventListener('focus', function() {
                setTimeout(() => {
                    this.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }, 300);
            });
        });
    </script>
</body>
</html>
